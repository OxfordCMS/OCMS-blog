
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Polyfill for CSS position: sticky - OCMS blog</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="This is where we, the OCMS, share our findings, perspectives, and training resources pertaining to microbiome research.">
    <meta name="author" content="ocms@kennedy.ox.ac.uk">
    <link rel="shortcut icon" href="favicon.ico">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- FontAwesome JS -->
    <script defer src="https://use.fontawesome.com/releases/v5.1.1/js/all.js" integrity="sha384-BtvRZcyfv4r0x/phJt9Y9HhnN5ur1Z+kZbKVgzVBAlQZX4jvAuImlIz+bG7TS00a" crossorigin="anonymous"></script>
    <!-- Global CSS -->
    <link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="assets/plugins/elegant_font/css/style.css">
    <link rel="stylesheet" href="assets/plugins/prism/prism.css">
    <link rel="stylesheet" href="assets/plugins/lightbox/dist/ekko-lightbox.css">

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/styles.css">

</head>

<body class="">
    <div class="page-wrapper">
        <!DOCTYPE html>
<html>
<!-- ******header****** -->
<header id="header" class="header">
    <div class="container">
        <div class="branding">
            <h1 class="logo"><a href="/">
                    <span class="icon_documents_alt icon" aria-hidden="true"></span>
                    <span class="text-highlight">OCMS</span>
                    <span class="text-bold">Blog</span>
                </a></h1>
        </div>
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/">Home</a></li>
            <li class="breadcrumb-item active">Polyfill for CSS position: sticky</li>
        </ol>
    </div><!--//container-->
</header><!--//header-->
</html>


        <!--*****doc-wrapper*****-->
        <div class="doc-wrapper">
            <div class="container">
                <!--doc-header-->
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title"><i class="icon fa fa-paper-plane"></i>Polyfill for CSS position: sticky</h1>
                    <div class="meta"><i class="fa fa-clock"></i> Updated: </div>
                </div><!--//doc-header-->

                <!--*****section*****-->
                <div class="doc-body row">
                    <!--doc-content-->
                    <div class="doc-content col-md-9 col-12 order-1">
                        <div class="content-inner">
                            <section id="content-section" class="doc-section">
                                <div class="section-block">
                                    <p><h1 id="polyfill-for-css-position-sticky">
        
        
          Polyfill for CSS <code class="language-plaintext highlighter-rouge">position: sticky</code> <a href="#polyfill-for-css-position-sticky" class="anchor_heading">#</a>
        
        
      </h1>

<p>The most accurate sticky polyfill out in the wild.</p>

<p>Check out <a href="http://wd.dizaina.net/en/scripts/stickyfill/">the demo</a> and <a href="http://wilddeer.github.io/stickyfill/test/">use cases test page</a>.</p>
    
      <h2 id="what-it-does">
        
        
          What it does <a href="#what-it-does" class="anchor_heading">#</a>
        
        
      </h2>

<ul>
  <li>supports top-positioned stickies,</li>
  <li>works in IE9+,</li>
  <li>disables itself in older IEs and in browsers with native <code class="language-plaintext highlighter-rouge">position: sticky</code> support,</li>
  <li>
    <p>mimics original <code class="language-plaintext highlighter-rouge">position: sticky</code> behavior:</p>

    <ul>
      <li>uses parent node as a boundary box,</li>
      <li>behaves nicely with horizontal page scrolling,</li>
      <li>only works on elements with specified <code class="language-plaintext highlighter-rouge">top</code>,</li>
      <li>mimics native <code class="language-plaintext highlighter-rouge">top</code> and <code class="language-plaintext highlighter-rouge">margin-bottom</code> behavior,</li>
      <li><del>works with table cells</del> removed for consistency until Firefox <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=975644">makes a native implementation</a></li>
    </ul>
  </li>
</ul>
    
      <h2 id="what-it-doesnt">
        
        
          What it doesn’t <a href="#what-it-doesnt" class="anchor_heading">#</a>
        
        
      </h2>

<ul>
  <li>doesn’t support left, right, bottom or combined stickies,</li>
  <li>doesn’t work in overflowed blocks,</li>
  <li>doesn’t parse your CSS! Launch it manually.</li>
</ul>
    
      <h2 id="installation">
        
        
          Installation <a href="#installation" class="anchor_heading">#</a>
        
        
      </h2>
    
      <h3 id="npm">
        
        
          NPM <a href="#npm" class="anchor_heading">#</a>
        
        
      </h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install stickyfilljs --save
</code></pre></div></div>
    
      <h3 id="yarn">
        
        
          Yarn <a href="#yarn" class="anchor_heading">#</a>
        
        
      </h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn add stickyfilljs
</code></pre></div></div>
    
      <h3 id="raw-es6-module">
        
        
          Raw ES6 module <a href="#raw-es6-module" class="anchor_heading">#</a>
        
        
      </h3>

<p><a href="https://raw.github.com/wilddeer/stickyfill/master/dist/stickyfill.es6.js">stickyfill.es6.js</a></p>
    
      <h3 id="old-fashioned">
        
        
          Old fashioned <a href="#old-fashioned" class="anchor_heading">#</a>
        
        
      </h3>

<p>Download minified production ES5 script:</p>

<p><a href="https://raw.github.com/wilddeer/stickyfill/master/dist/stickyfill.min.js">stickyfill.min.js</a></p>

<p>Include it on your page:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"path/to/stickyfill.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div></div>
    
      <h2 id="usage">
        
        
          Usage <a href="#usage" class="anchor_heading">#</a>
        
        
      </h2>

<p>First things first, make sure your stickies work in the <a href="http://caniuse.com/#feat=css-sticky">browsers that support them natively</a>, e.g.:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"sticky"</span><span class="nt">&gt;</span>
    ...
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.sticky</span> <span class="p">{</span>
    <span class="nl">position</span><span class="p">:</span> <span class="n">-webkit-sticky</span><span class="p">;</span>
    <span class="nl">position</span><span class="p">:</span> <span class="n">sticky</span><span class="p">;</span>
    <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Then apply the polyfill:</p>

<p>JS:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="dl">'</span><span class="s1">.sticky</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">Stickyfill</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">elements</span><span class="p">);</span>
</code></pre></div></div>

<p>or JS + jQuery:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">elements</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">.sticky</span><span class="dl">'</span><span class="p">);</span>
<span class="nx">Stickyfill</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">elements</span><span class="p">);</span>
</code></pre></div></div>

<p>Also worth having a clearfix:</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.sticky</span><span class="nd">:before</span><span class="o">,</span>
<span class="nc">.sticky</span><span class="nd">:after</span> <span class="p">{</span>
    <span class="nl">content</span><span class="p">:</span> <span class="s2">''</span><span class="p">;</span>
    <span class="nl">display</span><span class="p">:</span> <span class="n">table</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>
    
      <h2 id="pro-tips">
        
        
          Pro tips <a href="#pro-tips" class="anchor_heading">#</a>
        
        
      </h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">top</code> specifies sticky’s position relatively to the top edge of the viewport. It accepts negative values, too.</li>
  <li>You can push sticky’s bottom limit up or down by specifying positive or negative <code class="language-plaintext highlighter-rouge">margin-bottom</code>.</li>
  <li>Any non-default value (not <code class="language-plaintext highlighter-rouge">visible</code>) for <code class="language-plaintext highlighter-rouge">overflow</code>, <code class="language-plaintext highlighter-rouge">overflow-x</code>, or <code class="language-plaintext highlighter-rouge">overflow-y</code> on any of the ancestor elements anchors the sticky to the overflow context of that ancestor. Simply put, scrolling the ancestor will cause the sticky to stick, scrolling the window will not. This is expected with <code class="language-plaintext highlighter-rouge">overflow: auto</code> and <code class="language-plaintext highlighter-rouge">overflow: scroll</code>, but often causes confusion with <code class="language-plaintext highlighter-rouge">overflow: hidden</code>. Keep this in mind, folks!</li>
</ul>

<p>Check out <a href="http://wilddeer.github.io/stickyfill/test/">the test page</a> to understand stickies better.</p>
    
      <h2 id="api">
        
        
          API <a href="#api" class="anchor_heading">#</a>
        
        
      </h2>
    
      <h3 id="stickyfill">
        
        
          <code class="language-plaintext highlighter-rouge">Stickyfill</code> <a href="#stickyfill" class="anchor_heading">#</a>
        
        
      </h3>
    
      <h4 id="stickyfilladdoneelement">
        
        
          <code class="language-plaintext highlighter-rouge">Stickyfill.addOne(element)</code> <a href="#stickyfilladdoneelement" class="anchor_heading">#</a>
        
        
      </h4>

<p><code class="language-plaintext highlighter-rouge">element</code> – <code class="language-plaintext highlighter-rouge">HTMLElement</code> or iterable element list (<a href="https://developer.mozilla.org/en/docs/Web/API/NodeList"><code class="language-plaintext highlighter-rouge">NodeList</code></a>, jQuery collection, etc.). First element of the list is used.</p>

<p>Adds the element as a sticky. Returns new <a href="#stickyfillsticky">Sticky</a> instance associated with the element.</p>

<p>If there’s a sticky associated with the element, returns existing <a href="#stickyfillsticky">Sticky</a> instance instead.</p>
    
      <h4 id="stickyfilladdelementlist">
        
        
          <code class="language-plaintext highlighter-rouge">Stickyfill.add(elementList)</code> <a href="#stickyfilladdelementlist" class="anchor_heading">#</a>
        
        
      </h4>

<p><code class="language-plaintext highlighter-rouge">elementList</code> – iterable element list (<a href="https://developer.mozilla.org/en/docs/Web/API/NodeList"><code class="language-plaintext highlighter-rouge">NodeList</code></a>, jQuery collection, etc.) or single <code class="language-plaintext highlighter-rouge">HTMLElement</code>.</p>

<p>Adds the elements as stickies. Skips the elements that have stickies associated with them.</p>

<p>Returns an array of <a href="#stickyfillsticky">Sticky</a> instances associated with the elements (both existing and new ones).</p>
    
      <h4 id="stickyfillrefreshall">
        
        
          <code class="language-plaintext highlighter-rouge">Stickyfill.refreshAll()</code> <a href="#stickyfillrefreshall" class="anchor_heading">#</a>
        
        
      </h4>

<p>Refreshes all existing stickies, updates their parameters and positions.</p>

<p>All stickies are automatically refreshed after window resizes and device orientations changes.</p>

<p>There’s also a fast but not very accurate layout change detection that triggers this method. Call this method manually in case automatic detection fails.</p>
    
      <h4 id="stickyfillremoveoneelement">
        
        
          <code class="language-plaintext highlighter-rouge">Stickyfill.removeOne(element)</code> <a href="#stickyfillremoveoneelement" class="anchor_heading">#</a>
        
        
      </h4>

<p><code class="language-plaintext highlighter-rouge">element</code> – <code class="language-plaintext highlighter-rouge">HTMLElement</code> or iterable element list (<a href="https://developer.mozilla.org/en/docs/Web/API/NodeList"><code class="language-plaintext highlighter-rouge">NodeList</code></a>, jQuery collection, etc.). First element of the list is used.</p>

<p>Removes sticky associated with the element.</p>
    
      <h4 id="stickyfillremoveelementlist">
        
        
          <code class="language-plaintext highlighter-rouge">Stickyfill.remove(elementList)</code> <a href="#stickyfillremoveelementlist" class="anchor_heading">#</a>
        
        
      </h4>

<p><code class="language-plaintext highlighter-rouge">elementList</code> – iterable element list (<a href="https://developer.mozilla.org/en/docs/Web/API/NodeList"><code class="language-plaintext highlighter-rouge">NodeList</code></a>, jQuery collection, etc.) or single <code class="language-plaintext highlighter-rouge">HTMLElement</code>.</p>

<p>Removes stickies associated with the elements in the list.</p>
    
      <h4 id="stickyfillremoveall">
        
        
          <code class="language-plaintext highlighter-rouge">Stickyfill.removeAll()</code> <a href="#stickyfillremoveall" class="anchor_heading">#</a>
        
        
      </h4>

<p>Removes all existing stickies.</p>
    
      <h4 id="stickyfillstickies">
        
        
          <code class="language-plaintext highlighter-rouge">Stickyfill.stickies</code> <a href="#stickyfillstickies" class="anchor_heading">#</a>
        
        
      </h4>

<p>Array of existing <a href="#Stickyfill.Sticky">Sticky</a> instances.</p>
    
      <h3 id="stickyfillsticky">
        
        
          <code class="language-plaintext highlighter-rouge">Stickyfill.Sticky</code> <a href="#stickyfillsticky" class="anchor_heading">#</a>
        
        
      </h3>

<p>Sticky class. You can use it directly if you want:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">sticky</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Stickyfill</span><span class="p">.</span><span class="nx">Sticky</span><span class="p">(</span><span class="nx">element</span><span class="p">);</span>
</code></pre></div></div>

<p>Throws an error if there’s a sticky already bound to the element.</p>
    
      <h4 id="stickyrefresh">
        
        
          <code class="language-plaintext highlighter-rouge">Sticky.refresh()</code> <a href="#stickyrefresh" class="anchor_heading">#</a>
        
        
      </h4>

<p>Refreshes the sticky, updates its parameters and position.</p>
    
      <h4 id="stickyremove">
        
        
          <code class="language-plaintext highlighter-rouge">Sticky.remove()</code> <a href="#stickyremove" class="anchor_heading">#</a>
        
        
      </h4>

<p>Removes the sticky. Restores the element to its original state.</p>
    
      <h2 id="feature-requests">
        
        
          Feature requests <a href="#feature-requests" class="anchor_heading">#</a>
        
        
      </h2>
    
      <h3 id="tldr">
        
        
          TL;DR <a href="#tldr" class="anchor_heading">#</a>
        
        
      </h3>

<p>These features will never be implemented in Stickyfill:</p>

<ul>
  <li>Callbacks for sticky state changes</li>
  <li>Switching classes between different sticky states</li>
  <li>Other features that add non-standard functionality</li>
</ul>

<p>If your request isn’t about one of these, you are welcome to <a href="https://github.com/wilddeer/stickyfill/issues/new">create an issue</a>. Please check <a href="https://github.com/wilddeer/stickyfill/issues">existing issues</a> before creating new one.</p>
    
      <h3 id="some-reasoning">
        
        
          Some reasoning <a href="#some-reasoning" class="anchor_heading">#</a>
        
        
      </h3>

<p>Stickyfill is a <a href="https://en.wikipedia.org/wiki/Polyfill">polyfill</a>. This means that it implements a feature (sticky positioning in this case) that already exists in some browsers natively, and allows to use this feature in the browsers that don’t support it yet and older versions of the browsers that didn’t support it at the time. This is its only purpose.</p>

<p>This also means that Stickyfill does nothing in the browsers that <em>do</em> support sticky positioning. Which, in turn, means that those browsers won’t support any additional non-standard features.</p>
    
      <h2 id="bug-reports">
        
        
          Bug reports <a href="#bug-reports" class="anchor_heading">#</a>
        
        
      </h2>

<p>Check <a href="https://github.com/wilddeer/stickyfill/issues">existing issues</a> before creating new one. <strong>Please provide a live reproduction of a bug.</strong></p>
    
      <h2 id="contributing">
        
        
          Contributing <a href="#contributing" class="anchor_heading">#</a>
        
        
      </h2>
    
      <h3 id="prerequisites">
        
        
          Prerequisites <a href="#prerequisites" class="anchor_heading">#</a>
        
        
      </h3>

<ul>
  <li>Install Git 😱</li>
  <li>Install <a href="https://nodejs.org/en/">node</a></li>
  <li>Install <a href="http://gruntjs.com/getting-started#installing-the-cli">grunt-cli</a></li>
  <li>Clone the repo, <code class="language-plaintext highlighter-rouge">cd</code> into the repo folder, run <code class="language-plaintext highlighter-rouge">npm install</code> (or <code class="language-plaintext highlighter-rouge">yarn</code> if you are fancy).</li>
</ul>

<p>Ok, you are all set.</p>
    
      <h3 id="building-and-testing">
        
        
          Building and testing <a href="#building-and-testing" class="anchor_heading">#</a>
        
        
      </h3>

<p><code class="language-plaintext highlighter-rouge">cd</code> into the repo folder and run <code class="language-plaintext highlighter-rouge">grunt</code>. It will build the project from <code class="language-plaintext highlighter-rouge">/src/strickyfill.js</code> into <code class="language-plaintext highlighter-rouge">/dist</code> and run the watcher that will rebuild the project every time you change something in the source file.</p>

<p>Make changes to the source file. Stick to ES6 syntax.</p>

<p>Open <code class="language-plaintext highlighter-rouge">/test/index.html</code> in a browser that <a href="http://caniuse.com/#feat=css-sticky">doesn’t support</a> <code class="language-plaintext highlighter-rouge">position: sticky</code> to check that everything works as expected. Compare the results to the same page in a browser that supports <code class="language-plaintext highlighter-rouge">position: sticky</code>.</p>

<p>Commit the changes. <strong>DO NOT</strong> commit the files in the <code class="language-plaintext highlighter-rouge">/dist</code> folder. <strong>DO NOT</strong> change the version in <code class="language-plaintext highlighter-rouge">package.json</code>.</p>

<p>Make a pull request 👍</p>
    
      <h3 id="adding--removing--updating-npm-packages">
        
        
          Adding / removing / updating npm packages <a href="#adding--removing--updating-npm-packages" class="anchor_heading">#</a>
        
        
      </h3>

<p>Use <a href="https://yarnpkg.com/">Yarn</a>, dont’t forget to commit <code class="language-plaintext highlighter-rouge">yarn.lock</code>.</p>
    
      <h2 id="using-stickyfill">
        
        
          Using Stickyfill? <a href="#using-stickyfill" class="anchor_heading">#</a>
        
        
      </h2>

<p>🍻 <a href="https://www.paypal.me/wilddeer/0usd">Buy me a beer</a></p>
    
      <h2 id="license">
        
        
          License <a href="#license" class="anchor_heading">#</a>
        
        
      </h2>

<p><a href="/about/assets/plugins/stickyfill/LICENSE">MIT license</a>.</p></p>
                                </div>
                            </section>
                        </div><!--//content-inner-->
                    </div><!--//doc-content-->
                    <!--doc-sidebar-->
                    <div class="doc-sidebar col-md-3 col-12 order-0 d-none d-md-flex">
                        <div id="doc-nav" class="doc-nav">
                            <nav id="doc-menu" class="nav doc-menu flex-column sticky">

                                <a href="#Header1" class="nav-link scrollto">Header1</a>
                                <nav class="doc-sub-menu nav flex-column"><a href="#Subheader1" class="nav-link scrollto">Subheader1</a>
                                </nav><!--//doc-sub-menu-->

                            </nav><!--//doc-menu-->
                        </div><!--//doc-nav-->
                    </div><!--//doc-sidebar-->
                </div><!--doc-body-->
            </div><!--container-->
        </div><!--//doc-wrapper-->




    </div><!--//page-wrapper-->

    <footer id="footer" class="footer text-center">
    <div class="container">
        <!--/* This template is released under the Creative Commons Attribution 3.0 License. Please keep the attribution link below when using for your own project. Thank you for your support. :) If you'd like to use the template without the attribution, you can buy the commercial license via our website: themes.3rdwavemedia.com */-->
        <small class="copyright">Designed with <i class="fa fa-heart"></i> by <a href="https://themes.3rdwavemedia.com/" target="_blank">Xiaoying Riley</a> for developers</small>
        
    </div><!--//container-->
</footer><!--//footer-->

    <!-- Main Javascript -->
    <script type="text/javascript" src="assets/plugins/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="assets/plugins/prism/prism.js"></script>
    <script type="text/javascript" src="assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js"></script>
    <script type="text/javascript" src="assets/plugins/stickyfill/dist/stickyfill.min.js"></script>
    <script type="text/javascript" src="assets/js/main.js"></script>

</body>
</html>
